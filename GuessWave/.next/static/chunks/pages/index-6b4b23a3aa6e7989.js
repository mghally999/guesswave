(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3841)}])},3841:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return X}});var r=t(5893),s=t(9387),a=t.n(s),o=t(9603),i=t(9417),l=t(7294),c=t(6437),d=t.n(c),u=e=>{let{handleNameSubmit:n}=e,[t,s]=(0,l.useState)("");return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{className:d().welcomeCard,onSubmit:e=>{e.preventDefault(),n(t)},children:[(0,r.jsx)("h1",{children:"Welcome"}),(0,r.jsx)("p",{children:"Please Insert Your Name"}),(0,r.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value)}),(0,r.jsx)("button",{type:"submit",children:"Accept"})]})})},h=t(3668),m=t.n(h),_=e=>{let{points:n,setPoints:t,userPoints:s}=e;return(0,r.jsxs)("div",{className:m().control,children:[(0,r.jsx)("span",{children:"Points"}),(0,r.jsxs)("div",{className:m().controlInner,children:[(0,r.jsx)("button",{onClick:()=>{n-25>=0&&t(n-25)},children:(0,r.jsx)(o.G,{icon:i.r5q})}),(0,r.jsx)("input",{type:"number",max:s,value:n,onChange:e=>{let n=parseInt(e.target.value);!isNaN(n)&&n>=0&&n<=s&&t(n)},className:m().input,title:"Enter a valid points value"}),(0,r.jsx)("button",{onClick:()=>{n+25<=s&&t(n+25)},children:(0,r.jsx)(o.G,{icon:i.FPD})})]})]})},x=t(5659),p=t.n(x),j=e=>{let{multiplier:n,setMultiplier:t}=e;return(0,r.jsxs)("div",{className:p().control,children:[(0,r.jsx)("span",{children:"Multiplier"}),(0,r.jsxs)("div",{className:p().controlInner,children:[(0,r.jsx)("button",{onClick:()=>{n-.25>=0&&t(n-.25)},children:(0,r.jsx)(o.G,{icon:i.r5q})}),(0,r.jsx)("input",{type:"number",value:n,step:"0.01",onChange:e=>{let n=parseFloat(e.target.value);!isNaN(n)&&n>=0&&t(n)},className:p().input,title:"Enter a positive multiplier value"}),(0,r.jsx)("button",{onClick:()=>{n+.25>=0&&t(n+.25)},children:(0,r.jsx)(o.G,{icon:i.FPD})})]})]})},C=t(6574),g=t.n(C),f=e=>{let{currentRound:n,username:t,reveal:s,multiplier:a}=e;return(0,r.jsx)("div",{children:0===n.length?(0,r.jsx)("p",{children:"No data available"}):(0,r.jsx)("div",{className:g().tableContainer,children:(0,r.jsxs)("table",{className:g().table,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Points"}),(0,r.jsx)("th",{children:"Multiplier"})]})}),(0,r.jsx)("tbody",{children:n&&n.map((e,n)=>(0,r.jsxs)("tr",{className:"".concat(g().tableRow," ").concat(e.username===t?g().highlightRow:n%2==0?g().background1:g().background2),style:{color:s?e.multiplier<a?"#326a54":"#cf314b":"#fff"},children:[(0,r.jsx)("td",{className:g().username,children:e.username}),(0,r.jsx)("td",{children:e.points}),(0,r.jsx)("td",{children:e.multiplier})]},n))})]})})})},b=t(6026),v=t.n(b),N=e=>{let{speed:n,setSpeed:t}=e;return(0,r.jsx)("div",{className:v().speedControl,children:(0,r.jsxs)("div",{className:v().slider,children:[(0,r.jsx)("input",{type:"range",min:"1",max:"6",step:"0.1",value:n,onChange:e=>{t(parseFloat(e.target.value))},className:v().rangeSlider,style:{background:"linear-gradient(90deg, rgba(227,57,125,1) 35%, rgba(252,95,70,1) 100%)"}}),(0,r.jsx)("div",{className:v().labels,children:[1,2,3,4,5,6].map(e=>(0,r.jsxs)("span",{className:v().label,children:[e,"x"]},e))})]})})},S=t(632),k=t(7442),y=t(5592),w=t(2154),R=t(4283),G=t(8933),I=t(2305),M=t.n(I),P=e=>{let{data:n,animationDuration:t=2e3,triggerAnimation:s=!1}=e,[a,o]=(0,l.useState)(0);return((0,l.useEffect)(()=>{s?o(Math.max(...n.map(e=>e.value))):o(0)},[s,n]),s)?(0,r.jsx)(k.h,{className:M().chartContainer,width:"100%",height:400,children:(0,r.jsxs)(y.w,{data:n,margin:{top:20,right:30,left:20,bottom:20},children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,r.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),(0,r.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),(0,r.jsx)(w.K,{domain:[0,n.length-1]}),(0,r.jsx)(R.B,{domain:[0,2*a],hide:!0}),(0,r.jsx)(G.x,{type:"monotone",dataKey:"value",stroke:"#f75451",strokeWidth:4,dot:(0,r.jsx)(e=>{let{cx:t,cy:s,index:a}=e;return a===n.length-1?(0,r.jsx)(S.o,{cx:t,cy:s,r:8,fill:"#feb722"}):null},{}),animationDuration:t}),(0,r.jsxs)("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"4rem",fontWeight:"bold",fill:"#fff"},children:[a,"x"]})]})}):(0,r.jsx)(k.h,{className:M().chartContainer,width:"100%",height:400,children:(0,r.jsxs)(y.w,{data:[],children:[(0,r.jsx)(w.K,{domain:[0,10]}),(0,r.jsx)(R.B,{domain:[0,10],hide:!0})]})})},U=t(5687),B=t.n(U),E=e=>{let{username:n}=e,[t,s]=(0,l.useState)([]),[a,c]=(0,l.useState)(""),d=(0,l.useRef)(null),u=(0,l.useRef)(null);(0,l.useEffect)(()=>(u.current=new WebSocket("ws://http://localhost:3000"),u.current.onopen=()=>{console.log("Connected to WebSocket server!")},u.current.onmessage=e=>{let n=JSON.parse(e.data);console.log("Message received from server:",n),"initial"===n.type?n.messages.forEach(e=>{h({user:e.username,message:e.message})}):"message"===n.type&&h({user:n.data.username,message:n.data.message})},u.current.onclose=()=>{console.log("Disconnected from WebSocket server")},()=>{var e;null===(e=u.current)||void 0===e||e.close()}),[]),(0,l.useEffect)(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[t]);let h=e=>{console.log(e),s(n=>[...n,{user:e.user,message:e.message}])};return(0,r.jsxs)("div",{className:B().chat,children:[(0,r.jsxs)("div",{className:B().header,children:[(0,r.jsx)(o.G,{icon:i.vto,className:B().trophyIcon}),(0,r.jsx)("h2",{children:"Chat"})]}),(0,r.jsx)("div",{className:B().chatHistory,ref:d,children:t.map((e,n)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:B().message_header,children:(0,r.jsxs)("p",{children:[e.user,":"]})}),(0,r.jsx)("div",{className:B().message,children:(0,r.jsx)("p",{children:e.message})})]},n))}),(0,r.jsx)("div",{className:B().inputContainer,children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n&&a.trim()&&u.current&&(u.current.send(JSON.stringify({user:n,message:a})),c(""))},children:[(0,r.jsx)("input",{type:"text",value:a,onChange:e=>c(e.target.value),className:B().input,placeholder:"Type a message..."}),n&&(0,r.jsx)("button",{type:"submit",className:B().sendButton,children:"Send"})]})})]})},O=t(1904),A=t.n(O),H=e=>{let{records:n,username:t}=e;return(0,r.jsxs)("div",{className:A().rankingContainer,children:[(0,r.jsxs)("div",{className:A().header,children:[(0,r.jsx)(o.G,{icon:i.Wpq,className:A().trophyIcon}),(0,r.jsx)("h2",{children:"Ranking"})]}),0===n.length?(0,r.jsx)("div",{className:A().tableContainer,children:(0,r.jsxs)("table",{className:A().table,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"No."}),(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Score"})]})}),(0,r.jsx)("tbody",{children:[void 0,void 0,void 0,void 0,void 0].map((e,n)=>(0,r.jsxs)("tr",{className:"".concat(A().tableRow," ").concat(n%2==0?A().background1:A().background2),children:[(0,r.jsx)("td",{children:n+1}),(0,r.jsx)("td",{children:"-"}),(0,r.jsx)("td",{children:"-"})]},n))})]})}):(0,r.jsx)("div",{className:A().tableContainer,children:(0,r.jsxs)("table",{className:A().table,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Rank"}),(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Score"})]})}),(0,r.jsx)("tbody",{children:n.map((e,n)=>(0,r.jsxs)("tr",{className:"".concat(A().tableRow," ").concat(e.username===t?A().highlightRow:n%2==0?A().background1:A().background2),children:[(0,r.jsx)("td",{children:n+1}),(0,r.jsx)("td",{children:e.username}),(0,r.jsx)("td",{children:e.score})]},n))})]})})]})};let W=e=>{let n=[],t=0,r=e/15;for(let e=0;e<3;e++)n.push({value:t});for(let e=1;e<=5;e++)t+=e*r,n.push({value:t});return n.length>0&&(n[n.length-1]={value:e}),n};var L=()=>{let[e,n]=(0,l.useState)(!1),[t,r]=(0,l.useState)(""),[s,a]=(0,l.useState)(100),[o,i]=(0,l.useState)(1e3),[c,d]=(0,l.useState)(1),[u,h]=(0,l.useState)(1),[m,_]=(0,l.useState)(0),[x,p]=(0,l.useState)(!1),[j,C]=(0,l.useState)({text:"Start",disabled:!1}),[g,f]=(0,l.useState)(W(9)),[b,v]=(0,l.useState)([]),[N,S]=(0,l.useState)([]),[k,y]=(0,l.useState)([{username:t,points:s,multiplier:c},{username:"CPU 1",points:0,multiplier:1},{username:"CPU 2",points:0,multiplier:1},{username:"CPU 3",points:0,multiplier:1},{username:"CPU 4",points:0,multiplier:1}]);return{triggerAnimation:e,username:t,setUsername:r,points:s,setPoints:a,userPoints:o,setUserPoints:i,multiplier:c,setMultiplier:d,speed:u,setSpeed:h,result:m,revealCurrentRoundResult:x,buttonState:j,data:g,records:b,currentRound:k,handleNameSubmit:e=>{y([{username:e,points:s,multiplier:c},{username:"CPU 1",points:0,multiplier:1},{username:"CPU 2",points:0,multiplier:1},{username:"CPU 3",points:0,multiplier:1},{username:"CPU 4",points:0,multiplier:1}]),r(e)},handleStartClick:()=>{i(o-s);let e=Math.floor(90*Math.random())/10+1;_(e),f(W(e)),n(!0),C({text:"Started",disabled:!0}),setTimeout(()=>C({text:"Start Again",disabled:!1}),21e3/u),setTimeout(()=>n(!1),2e4/u);let r=[{username:t,points:s,multiplier:c},{username:"CPU 1",points:25*Math.floor(24*Math.random()+1),multiplier:Math.floor(100*Math.random())/10},{username:"CPU 2",points:25*Math.floor(24*Math.random()+1),multiplier:Math.floor(100*Math.random())/10},{username:"CPU 3",points:25*Math.floor(24*Math.random()+1),multiplier:Math.floor(100*Math.random())/10},{username:"CPU 4",points:25*Math.floor(24*Math.random()+1),multiplier:Math.floor(100*Math.random())/10}];p(!1),setTimeout(()=>{p(!0),y(r)},12e3/u),e>c&&i(o+s*c);let a=[...N,...r.map(e=>({username:e.username,score:Math.floor(e.points*e.multiplier)})).filter(e=>e.score>0)].reduce((e,n)=>e.find(e=>e.username===n.username)?e:e.concat([n]),[]),l=a.sort((e,n)=>n.score-e.score).slice(0,5);setTimeout(()=>{S(a)},2e4/u),v(l)}}},T=t(9725),D=t.n(T),J=e=>{let{username:n,points:t}=e,[s,a]=(0,l.useState)("");return(0,l.useEffect)(()=>{let e=setInterval(()=>{a(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}))},1e3);return()=>clearInterval(e)},[]),(0,r.jsxs)("div",{className:D().userInfo,children:[(0,r.jsxs)("div",{className:D().infoBox,children:[(0,r.jsx)(o.G,{icon:i.owJ,className:D().icon}),n&&(0,r.jsxs)("span",{children:[t," Points"]})]}),(0,r.jsxs)("div",{className:D().infoBox,children:[(0,r.jsx)(o.G,{icon:i.ILF,className:D().icon}),n&&(0,r.jsx)("span",{children:n})]}),(0,r.jsxs)("div",{className:D().infoBox,children:[(0,r.jsx)(o.G,{icon:i.SZw,className:D().icon}),n&&(0,r.jsx)("span",{children:s})]})]})},F=()=>{let{triggerAnimation:e,username:n,points:t,setPoints:s,userPoints:l,setUserPoints:c,multiplier:d,setMultiplier:h,speed:m,setSpeed:x,result:p,revealCurrentRoundResult:C,buttonState:g,data:b,records:v,currentRound:S,handleNameSubmit:k,handleStartClick:y}=L();return(0,r.jsxs)("div",{className:a().container,children:[(0,r.jsxs)("div",{className:a().UpperGridContainer,children:[!n&&(0,r.jsx)(u,{handleNameSubmit:k}),n&&(0,r.jsxs)("div",{className:a().centerContent,children:[(0,r.jsxs)("div",{className:a().row,children:[(0,r.jsx)(_,{points:t,setPoints:s,userPoints:l}),(0,r.jsx)(j,{multiplier:d,setMultiplier:h})]}),(0,r.jsx)("button",{className:a().start_button,onClick:y,disabled:g.disabled,children:g.text}),(0,r.jsxs)("div",{className:a().header,children:[(0,r.jsx)(o.G,{icon:i.kWN,className:a().trophyIcon}),(0,r.jsx)("h2",{children:"Current Round"})]}),(0,r.jsx)(f,{currentRound:S,username:n,multiplier:p,reveal:C}),(0,r.jsxs)("div",{className:a().header,children:[(0,r.jsx)(o.G,{icon:i.HLz,className:a().speedIcon}),(0,r.jsx)("h2",{children:"Speed"})]}),(0,r.jsx)(N,{speed:m,setSpeed:x})]}),(0,r.jsxs)("div",{className:a().gameHeaderAndChart,children:[(0,r.jsx)(J,{username:n,points:l}),(0,r.jsx)(P,{data:b,animationDuration:12e3/m,triggerAnimation:e})]})]}),(0,r.jsxs)("div",{className:a().LowerGridContainer,children:[(0,r.jsx)(H,{username:n,records:v}),(0,r.jsx)(E,{username:n})]})]})};function X(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(F,{})})}},5687:function(e){e.exports={header:"Chat_header__aNsCJ",trophyIcon:"Chat_trophyIcon__1I3Hd",chat:"Chat_chat__THuM8",chatHistory:"Chat_chatHistory__UVEto",message_header:"Chat_message_header__OUJrx",message:"Chat_message__ARm7T",inputContainer:"Chat_inputContainer__GX9ap",input:"Chat_input__LQPzq",sendButton:"Chat_sendButton__c2nX5"}},9387:function(e){e.exports={container:"GameContainer_container__035zU",UpperGridContainer:"GameContainer_UpperGridContainer__AAbVQ",centerContent:"GameContainer_centerContent__C0XBX",gameHeaderAndChart:"GameContainer_gameHeaderAndChart__z1SOw",row:"GameContainer_row__QsJjg",header:"GameContainer_header__wBEoC",trophyIcon:"GameContainer_trophyIcon__jspi0",speedIcon:"GameContainer_speedIcon__mjv48",start_button:"GameContainer_start_button__j0_AJ",LowerGridContainer:"GameContainer_LowerGridContainer___5yV7"}},5659:function(e){e.exports={control:"MultiplierControl_control__wQ2IA",controlInner:"MultiplierControl_controlInner__Dr_WN"}},3668:function(e){e.exports={control:"PointsControl_control__IRmev",controlInner:"PointsControl_controlInner__vkbWy"}},6026:function(e){e.exports={speedControl:"SpeedControl_speedControl__mf514",header:"SpeedControl_header__OCBGb",speedIcon:"SpeedControl_speedIcon___tsXy",slider:"SpeedControl_slider__tmRZ3",rangeSlider:"SpeedControl_rangeSlider__YjflJ",labels:"SpeedControl_labels__O0cAg",label:"SpeedControl_label__v5kRY"}},9725:function(e){e.exports={userInfo:"GameHeader_userInfo__MxBMH",infoBox:"GameHeader_infoBox__2naDY",icon:"GameHeader_icon__ogloF"}},2305:function(e){e.exports={chartContainer:"MultiplierChart_chartContainer__lBsrQ"}},1904:function(e){e.exports={header:"Ranking_header__Os621",trophyIcon:"Ranking_trophyIcon__Gxyzl",tableContainer:"Ranking_tableContainer__e54J8",table:"Ranking_table__dpCEh",background1:"Ranking_background1__OIYbi",background2:"Ranking_background2__CsckP",highlightRow:"Ranking_highlightRow__Z0Ftw",username:"Ranking_username__ycjOX"}},6574:function(e){e.exports={currentRoundContainer:"CurrentRound_currentRoundContainer__v4DsA",header:"CurrentRound_header__lO8WT",tableContainer:"CurrentRound_tableContainer___1v4I",table:"CurrentRound_table__FhMJx",background1:"CurrentRound_background1__uoKRM",background2:"CurrentRound_background2__Ljxod",highlightRow:"CurrentRound_highlightRow__4vGo1",username:"CurrentRound_username__aXGVO"}},6437:function(e){e.exports={welcomeContainer:"Welcome_welcomeContainer__pLLiL",welcomeCard:"Welcome_welcomeCard__U1_g1",fadeIn:"Welcome_fadeIn__dLxJl"}}},function(e){e.O(0,[976,82,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);